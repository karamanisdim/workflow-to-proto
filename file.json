{
    "_id": "88e761bf-4824-4974-96b4-45c7bf741f11",
    "id": "88e761bf-4824-4974-96b4-45c7bf741f11",
    "workspaceId": "db24bb48-d2e3-4433-8fd0-79eef2bf63df",
    "meta": {
        "name": "TODO Application",
        "description": "TODO API for React Application"
    },
    "latestVersion": 1,
    "versions": {
        "1": {
            "id": "88e761bf-4824-4974-96b4-45c7bf741f11",
            "workspaceId": "db24bb48-d2e3-4433-8fd0-79eef2bf63df",
            "meta": {
                "name": "TODO Application",
                "description": "TODO API for React Application"
            },
            "nodes": [
                {
                    "id": "616bb291-9521-4724-985c-b2048dde56a8",
                    "name": "REST",
                    "type": {
                        "name": "request-start-event",
                        "authentication": {
                            "type": "Anonymous",
                            "Anonymous": true
                        },
                        "alias": "getAll"
                    },
                    "visual": {
                        "x": 21,
                        "y": 703
                    }
                },
                {
                    "id": "288a774b-e593-47e6-9b17-2bc9938d27f7",
                    "name": "Get all TODOs",
                    "type": {
                        "name": "task-activity",
                        "parameters": {
                            "interface": {
                                "type": "REST",
                                "grpcService": "Mongo",
                                "rpc": "Find",
                                "input": [
                                    {
                                        "name": "dbName",
                                        "type": "string",
                                        "evalValue": "constants.dbName",
                                        "required": true
                                    },
                                    {
                                        "name": "collectionName",
                                        "type": "string",
                                        "evalValue": "constants.collectionName",
                                        "required": true
                                    },
                                    {
                                        "name": "query",
                                        "type": "string",
                                        "evalValue": "' {} '",
                                        "required": true
                                    }
                                ]
                            },
                            "service": "serviceId2",
                            "serviceVersion": "0.0.1"
                        },
                        "output": [
                            {
                                "name": "response",
                                "type": "string",
                                "evalValue": "(() => { const entArr=JSON.parse(output.data); return entArr.map((entity) => {entity.id = entity._id; delete entity._id; return entity; }) })()",
                                "required": true
                            }
                        ]
                    },
                    "executed": false,
                    "visual": {
                        "x": 137,
                        "y": 695
                    }
                },
                {
                    "id": "c01a5077-245f-481a-a0f4-3acfa4a8ffb8",
                    "name": "end",
                    "type": {
                        "name": "end-event",
                        "output": [
                            {
                                "name": "data",
                                "type": "Struct",
                                "evalValue": "variables.response"
                            }
                        ]
                    },
                    "visual": {
                        "x": 321,
                        "y": 703
                    }
                },
                {
                    "id": "9ea7d8d2-62db-4210-809f-6fc79b173c6d",
                    "name": "REST",
                    "type": {
                        "name": "request-start-event",
                        "authentication": {
                            "type": "Anonymous",
                            "Anonymous": true
                        },
                        "alias": "create",
                        "input": [
                            {
                                "name": "id",
                                "type": "string",
                                "evalValue": "payload.id ?? uuid()",
                                "required": true
                            },
                            {
                                "name": "text",
                                "type": "string",
                                "evalValue": "payload.text",
                                "required": true
                            },
                            {
                                "name": "status",
                                "type": "string",
                                "evalValue": "payload.status ?? 'Active'",
                                "required": true
                            }
                        ]
                    },
                    "visual": {
                        "x": 24,
                        "y": 807
                    }
                },
                {
                    "id": "420fc043-1886-4465-bcd4-54957521b33a",
                    "name": "Create TODO",
                    "type": {
                        "name": "task-activity",
                        "parameters": {
                            "interface": {
                                "type": "REST",
                                "grpcService": "Mongo",
                                "rpc": "InsertOne",
                                "input": [
                                    {
                                        "name": "dbName",
                                        "type": "string",
                                        "evalValue": "constants.dbName",
                                        "required": true
                                    },
                                    {
                                        "name": "collectionName",
                                        "type": "string",
                                        "evalValue": "constants.collectionName",
                                        "required": true
                                    },
                                    {
                                        "name": "key",
                                        "type": "string",
                                        "evalValue": "variables.id",
                                        "required": true
                                    },
                                    {
                                        "name": "data",
                                        "type": "string",
                                        "evalValue": "JSON.stringify({text: variables.text, status: variables.status})",
                                        "required": true
                                    }
                                ]
                            },
                            "service": "serviceId2",
                            "serviceVersion": "0.0.1"
                        },
                        "output": [
                            {
                                "name": "response",
                                "type": "string",
                                "evalValue": "output.data",
                                "required": true
                            }
                        ]
                    },
                    "executed": false,
                    "visual": {
                        "x": 139,
                        "y": 799
                    },
                    "messages": {
                        "publish-event": [
                            {
                                "type": "workflow-events",
                                "topic": "ToDos.created",
                                "payload": [
                                    {
                                        "name": "newData",
                                        "type": "Struct",
                                        "evalValue": "{ id: variables.id, text: variables.text, status: variables.status}",
                                        "required": true
                                    }
                                ]
                            }
                        ]
                    }
                },
                {
                    "id": "b493af24-7f59-4a37-a56a-c5027e471928",
                    "name": "end",
                    "type": {
                        "name": "end-event",
                        "output": [
                            {
                                "name": "wasCreated",
                                "type": "string",
                                "evalValue": "variables.response"
                            }
                        ]
                    },
                    "visual": {
                        "x": 322,
                        "y": 807
                    }
                },
                {
                    "id": "f9a51c7c-6b12-408f-a5ee-fb164cbabcc6",
                    "name": "REST",
                    "type": {
                        "name": "request-start-event",
                        "authentication": {
                            "type": "Anonymous",
                            "Anonymous": true
                        },
                        "input": [
                            {
                                "name": "id",
                                "type": "string",
                                "evalValue": "payload.id",
                                "required": true
                            },
                            {
                                "name": "text",
                                "type": "string",
                                "evalValue": "payload.text",
                                "required": true
                            },
                            {
                                "name": "status",
                                "type": "string",
                                "evalValue": "payload.status",
                                "required": true
                            }
                        ],
                        "alias": "update"
                    },
                    "visual": {
                        "x": 26,
                        "y": 913
                    }
                },
                {
                    "id": "920ad977-3d39-4948-973f-f6b8876904fb",
                    "name": "Update TODO",
                    "type": {
                        "name": "task-activity",
                        "parameters": {
                            "interface": {
                                "type": "REST",
                                "grpcService": "Mongo",
                                "rpc": "UpdateOne",
                                "input": [
                                    {
                                        "name": "dbName",
                                        "type": "string",
                                        "evalValue": "constants.dbName",
                                        "required": true
                                    },
                                    {
                                        "name": "collectionName",
                                        "type": "string",
                                        "evalValue": "constants.collectionName",
                                        "required": true
                                    },
                                    {
                                        "name": "query",
                                        "type": "string",
                                        "evalValue": "JSON.stringify({ _id: variables.id })",
                                        "required": true
                                    },
                                    {
                                        "name": "data",
                                        "type": "string",
                                        "evalValue": "JSON.stringify({text: variables.text, status: variables.status})",
                                        "required": true
                                    }
                                ]
                            },
                            "service": "serviceId2",
                            "serviceVersion": "0.0.1"
                        },
                        "output": [
                            {
                                "name": "wasUpdated",
                                "type": "string",
                                "evalValue": "output.data",
                                "required": true
                            }
                        ]
                    },
                    "executed": false,
                    "visual": {
                        "x": 136,
                        "y": 905
                    },
                    "messages": {
                        "publish-event": [
                            {
                                "type": "workflow-events",
                                "topic": "ToDos.updated",
                                "payload": [
                                    {
                                        "name": "updatedData",
                                        "type": "string",
                                        "evalValue": "{ id: variables.id, text: variables.text, status: variables.status }",
                                        "required": true
                                    }
                                ]
                            }
                        ]
                    }
                },
                {
                    "id": "2de56cab-6934-49a7-b0f5-1310aa97f226",
                    "name": "end",
                    "type": {
                        "name": "end-event",
                        "output": [
                            {
                                "name": "data",
                                "type": "string",
                                "evalValue": "variables.response"
                            }
                        ]
                    },
                    "visual": {
                        "x": 319,
                        "y": 913
                    }
                },
                {
                    "id": "f583c300-b21e-4a3b-ac7d-56f5489f530c",
                    "name": "REST",
                    "type": {
                        "name": "request-start-event",
                        "authentication": {
                            "type": "Anonymous",
                            "Anonymous": true
                        },
                        "alias": "delete",
                        "input": [
                            {
                                "name": "id",
                                "type": "string",
                                "evalValue": "payload.id",
                                "required": true
                            }
                        ]
                    },
                    "visual": {
                        "x": 26,
                        "y": 1024
                    }
                },
                {
                    "id": "3ed4f065-830d-42ca-b466-b6142da73b7d",
                    "name": "Delete TODO",
                    "type": {
                        "name": "task-activity",
                        "parameters": {
                            "interface": {
                                "type": "REST",
                                "grpcService": "Mongo",
                                "rpc": "DeleteOne",
                                "input": [
                                    {
                                        "name": "dbName",
                                        "type": "string",
                                        "evalValue": "constants.dbName",
                                        "required": true
                                    },
                                    {
                                        "name": "collectionName",
                                        "type": "string",
                                        "evalValue": "constants.collectionName",
                                        "required": true
                                    },
                                    {
                                        "name": "query",
                                        "type": "string",
                                        "evalValue": "JSON.stringify({ _id: variables.id })",
                                        "required": true
                                    }
                                ]
                            },
                            "service": "serviceId2",
                            "serviceVersion": "0.0.1"
                        },
                        "output": [
                            {
                                "name": "response",
                                "type": "string",
                                "evalValue": "output.data",
                                "required": true
                            }
                        ]
                    },
                    "executed": false,
                    "visual": {
                        "x": 134,
                        "y": 1016
                    },
                    "messages": {
                        "publish-event": [
                            {
                                "type": "workflow-events",
                                "topic": "ToDos.deleted",
                                "payload": [
                                    {
                                        "name": "id",
                                        "type": "string",
                                        "evalValue": "variables.id",
                                        "required": true
                                    }
                                ]
                            }
                        ]
                    }
                },
                {
                    "id": "2ac1e890-1ea4-4440-b101-01a6757b3f0e",
                    "name": "end",
                    "type": {
                        "name": "end-event",
                        "output": [
                            {
                                "name": "wasDeleted",
                                "type": "string",
                                "evalValue": "variables.response"
                            }
                        ]
                    },
                    "visual": {
                        "x": 318,
                        "y": 1024
                    }
                }
            ],
            "edges": [
                {
                    "from": "616bb291-9521-4724-985c-b2048dde56a8",
                    "to": [
                        {
                            "nodeId": "288a774b-e593-47e6-9b17-2bc9938d27f7"
                        }
                    ]
                },
                {
                    "from": "288a774b-e593-47e6-9b17-2bc9938d27f7",
                    "to": [
                        {
                            "nodeId": "c01a5077-245f-481a-a0f4-3acfa4a8ffb8"
                        }
                    ]
                },
                {
                    "from": "420fc043-1886-4465-bcd4-54957521b33a",
                    "to": [
                        {
                            "nodeId": "b493af24-7f59-4a37-a56a-c5027e471928"
                        }
                    ]
                },
                {
                    "from": "9ea7d8d2-62db-4210-809f-6fc79b173c6d",
                    "to": [
                        {
                            "nodeId": "420fc043-1886-4465-bcd4-54957521b33a"
                        }
                    ]
                },
                {
                    "from": "f9a51c7c-6b12-408f-a5ee-fb164cbabcc6",
                    "to": [
                        {
                            "nodeId": "920ad977-3d39-4948-973f-f6b8876904fb"
                        }
                    ]
                },
                {
                    "from": "920ad977-3d39-4948-973f-f6b8876904fb",
                    "to": [
                        {
                            "nodeId": "2de56cab-6934-49a7-b0f5-1310aa97f226"
                        }
                    ]
                },
                {
                    "from": "f583c300-b21e-4a3b-ac7d-56f5489f530c",
                    "to": [
                        {
                            "nodeId": "3ed4f065-830d-42ca-b466-b6142da73b7d"
                        }
                    ]
                },
                {
                    "from": "3ed4f065-830d-42ca-b466-b6142da73b7d",
                    "to": [
                        {
                            "nodeId": "2ac1e890-1ea4-4440-b101-01a6757b3f0e"
                        }
                    ]
                }
            ],
            "constants": {
                "development": [
                    {
                        "name": "dbName",
                        "value": "bitloops_managed",
                        "type": "string"
                    },
                    {
                        "name": "collectionName",
                        "type": "string",
                        "value": "todos"
                    }
                ],
                "production": [
                    {
                        "name": "dbName",
                        "type": "string",
                        "value": "bitloops_managed"
                    },
                    {
                        "name": "collectionName",
                        "type": "string",
                        "value": "todos"
                    }
                ]
            },
            "bitloopsEngineVersion": "v0.0.1",
            "version": 1
        }
    }
}